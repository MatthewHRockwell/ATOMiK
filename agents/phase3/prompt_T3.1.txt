You are implementing Phase 3 of the ATOMiK project: Hardware Synthesis.

CONTEXT:
- ATOMiK is a delta-state compute architecture where computation uses XOR-based 
  delta composition instead of traditional read-modify-write
- Phase 1 proved mathematical properties in Lean4 (commutativity, associativity, 
  self-inverse) that GUARANTEE hardware optimization opportunities
- Phase 2 benchmarks showed 95-100% memory traffic reduction and 85% parallel 
  efficiency potential, but a 32% read penalty in software due to O(N) reconstruction
- The hardware goal is to ELIMINATE the read penalty via parallel XOR trees

FIRST: Read these context files:
- docs/ATOMiK_Development_Roadmap.md (Phase 3 section)
- reports/comparison.md (performance targets from Phase 2)
- math/proofs/ATOMiK/Properties.lean (proven mathematical properties)
- rtl/atomik_core.v (existing core for reference)
- rtl/pll/atomik_pll_81m.v (PLL configuration)
- .github/atomik-status.yml (current status)

TASK T3.1: Create RTL Architecture Specification

Create a comprehensive RTL architecture document at specs/rtl_architecture.md that includes:

1. **Architecture Overview**
   - Block diagram (ASCII art) of ATOMiK core v2
   - Data flow for accumulate (write) and reconstruct (read) operations
   - Interface with existing atomik_top.v

2. **Module Definitions**
   - atomik_delta_acc: Delta accumulator (single-cycle XOR accumulation)
   - atomik_state_rec: State reconstructor (single-cycle current state output)
   - atomik_core_v2: Top-level integration

3. **Interface Specifications**
   - Port list with widths, directions, descriptions
   - Timing diagrams for accumulate and read operations
   - Reset behavior and initialization

4. **Microarchitecture Details**
   - Register descriptions (accumulator, initial_state)
   - Combinational logic (XOR paths)
   - Control FSM (if needed, or explain why not)

5. **Hardware Optimization Strategy**
   - How commutativity enables parallel reduction (cite Phase 1 theorem delta_comm)
   - Why XOR is single-cycle (no carry propagation)
   - Future extension points for parallel delta input

6. **Target Constraints**
   - Device: GW1NR-LV9QN88PC6/I5 (Gowin GW1NR-9)
   - Clock: 27 MHz input, 81 MHz via existing PLL
   - Target frequency: 50 MHz minimum (conservative for Phase 3)
   - Delta/State width: 64 bits

7. **Verification Plan**
   - Test vectors needed
   - Equivalence check against Python reference (experiments/benchmarks/atomik/delta_engine.py)

KEY DESIGN INSIGHT:
The critical optimization is that current_state = initial_state XOR accumulator.
This is a SINGLE XOR operation (O(1)), not O(N) reconstruction of the entire delta chain.
This eliminates the 32% read penalty observed in Phase 2 software benchmarks.

Output: specs/rtl_architecture.md

After completion, update .github/atomik-status.yml to mark T3.1_rtl_architecture: complete
